(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{571:function(e,t,r){var n=r(572);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},572:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}},573:function(e,t,r){var n=r(574),o=r(575),l=r(571),c=r(576);e.exports=function(e,i){return n(e)||o(e,i)||l(e,i)||c()}},574:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},575:function(e,t){e.exports=function(e,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(t.push(l.value),!i||t.length!==i);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return t}}},576:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFER_FIELDS_MAPPER={name:"姓名",email:"邮箱",phone:"电话",experience:"工作经验",resumeId:"个人简历",intro:"个人简介",thirdPersonIntro:"第三人称介绍",leetCodeUrl:"LeetCode链接",referLinks:"内推链接"},t.getFieldName=function(e){if(!t.REFER_FIELDS_MAPPER[e])throw new Error("字段 ".concat(e," 不存在于表单中"));return t.REFER_FIELDS_MAPPER[e]},t.REQUIRED_REFER_FIELD_VALUES=["name","email","experience","referLinks"]},578:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JOB_RULES={company:[{required:!0,message:"请输入公司名",trigger:"blur"}]},t.LOGIN_RULES={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位以上",trigger:"blur"}]},t.RESUME_RULES={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:/[\d\-]{9,11}/,message:"电话格式不正确",trigger:"blur"}]},t.REGISTER_RULES={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位以上",trigger:"blur"}]},t.EDIT_USER_RULES={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入姓名",trigger:"blur"},{pattern:/[\d\-]{9,11}/,message:"电话格式不正确",trigger:"blur"}]}},579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEVEL_MAPPER={0:"应届生",1:"1年工作经验",2:"2年工作经验",3:"3年工作经验",4:"4年工作经验",5:"5年工作经验",6:"6年工作经验",7:"7年工作经验",8:"8+年工作经验"}},596:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_SIZE=2097152,t.IMAGE_MIME_TYPES=["image/jpeg","image/png","image/gif"],t.RESUME_MIME_TYPES=["application/pdf"],t.RESUME_SIZE=5242880},634:function(e,t,r){"use strict";r.r(t);var n=r(635),o=r.n(n);for(var l in n)"default"!==l&&function(e){r.d(t,e,(function(){return n[e]}))}(l);t.default=o.a},635:function(e,t,r){"use strict";r(23),r(24),r(10),r(100),r(106),r(107),r(33);var n=r(322),o=r(101),l=r(321),c=r(102),f=r(103),d=r(104),m=r(80);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var h=this&&this.__decorate||function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var _=y(r(1)),E=r(105),R=y(r(677)),x=r(596),I=r(324),M=function(e){c(y,e);var t,r,m,h=(t=y,function(){var e,r=d(t);if(v()){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return f(this,e)});function y(){var e;return o(this,y),(e=h.apply(this,arguments)).form=null,e}return l(y,[{key:"uploaded",value:(m=n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$auth.fetchUser();case 2:this.$message.success("修改成功");case 3:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"uploading",value:function(e){var t=e.status;this.setLoading(!("success"===t||"fail"===t))}},{key:"beforeUpload",value:function(e){var t=x.IMAGE_MIME_TYPES.includes(e.type),r=e.size<=x.IMAGE_SIZE;return t||(this.$message.error("上传头像图片格式不正确"),this.setLoading(!1)),r||(this.$message.error("上传头像图片大小不能超过 2MB"),this.setLoading(!1)),t&&r}},{key:"onSubmit",value:(r=n(regeneratorRuntime.mark((function e(form){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$put("/users",form);case 2:return e.next=4,this.$auth.fetchUser();case 4:return this.$message.success("已更新用户信息"),e.next=7,this.$router.push("/user");case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"job",get:function(){return this.$auth.user.job}}]),y}(_.default);h([I.Mutation("setLoading")],M.prototype,"setLoading",void 0),M=h([E.Component({components:{UserForm:R.default}})],M),t.default=M},636:function(e,t,r){"use strict";r.r(t);var n=r(637),o=r.n(n);for(var l in n)"default"!==l&&function(e){r.d(t,e,(function(){return n[e]}))}(l);t.default=o.a},637:function(e,t,r){"use strict";r(23),r(24),r(100);var n=r(573);r(323),r(33);var o=r(322);r(38),r(10),r(108);var l=r(101),c=r(321),f=r(102),d=r(103),m=r(104),v=r(80);function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=this&&this.__decorate||function(e,t,r,desc){var n,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(o<3?n(l):o>3?n(t,r,l):n(t,r))||l);return o>3&&l&&Object.defineProperty(t,r,l),l},_=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var E=_(r(1)),R=r(105),x=r(579),I=r(578),M=r(577),P=r(324),S=function(e){f(v,e);var t,r=(t=v,function(){var e,r=m(t);if(h()){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d(this,e)});function v(){var e;return l(this,v),(e=r.apply(this,arguments)).form={avatarUrl:"",email:"",experience:0,intro:"",leetCodeUrl:"",name:"",phone:"",thirdPersonIntro:""},e.rules=I.EDIT_USER_RULES,e.field=M.getFieldName,e}return c(v,[{key:"mounted",value:function(){this.initForm()}},{key:"initForm",value:function(){var e=this;Object.keys(this.form).forEach((function(t){e.form[t]=e.userInfo[t]}))}},{key:"saveChange",value:function(){var e=this;this.$refs.form.validate(function(){var t=o(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",e.$message.error("填写不正确"));case 2:e.$emit("submit",e.form);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"userInfo",get:function(){return this.$auth.user.info}},{key:"levels",get:function(){return Object.entries(x.LEVEL_MAPPER).map((function(e){var t=n(e,2),r=t[0],label=t[1];return[parseInt(r),label]}))}}]),v}(E.default);y([P.Mutation("setLoading")],S.prototype,"setLoading",void 0),S=y([R.Component],S),t.default=S},638:function(e,t,r){var content=r(679);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(50).default)("79d15adc",content,!0,{sourceMap:!1})},639:function(e,t,r){var content=r(681);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(50).default)("c1fd8776",content,!0,{sourceMap:!1})},677:function(e,t,r){"use strict";r.r(t);var n=r(697),o=r(636);for(var l in o)"default"!==l&&function(e){r.d(t,e,(function(){return o[e]}))}(l);r(678);var c=r(28),component=Object(c.a)(o.default,n.a,n.b,!1,null,"efdcd672",null);t.default=component.exports},678:function(e,t,r){"use strict";var n=r(638);r.n(n).a},679:function(e,t,r){(t=r(49)(!1)).push([e.i,".user-form-submit[data-v-efdcd672]{text-align:center}.user-form .submit-button[data-v-efdcd672]{margin-right:8px}",""]),e.exports=t},680:function(e,t,r){"use strict";var n=r(639);r.n(n).a},681:function(e,t,r){(t=r(49)(!1)).push([e.i,".avatar[data-v-56cfb5f0]{margin-bottom:24px}",""]),e.exports=t},694:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticClass:"avatar",attrs:{type:"flex",align:"middle"}},[r("el-col",{attrs:{span:4}},[r("el-avatar",{attrs:{src:e.$auth.user.info.avatarUrl,size:100}})],1),e._v(" "),r("el-col",[r("el-upload",{attrs:{action:"/api/upload/avatar",headers:{Authorization:e.$auth.getToken("local")},"show-file-list":!1,"on-success":e.uploaded,"on-change":e.uploading,"before-upload":e.beforeUpload}},[r("el-button",{attrs:{size:"small",type:"success",plain:"",round:""}},[e._v("修改头像")])],1)],1)],1),e._v(" "),r("UserForm",{on:{submit:e.onSubmit}})],1)},o=[]},697:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.form?r("el-form",{ref:"form",staticClass:"user-form",attrs:{model:e.form,"label-width":"120px","label-position":"left",rules:e.rules}},[r("el-form-item",{attrs:{required:"",prop:"name",label:e.field("name")}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"email",required:"",label:e.field("email")}},[r("el-input",{attrs:{type:"email",disabled:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"phone",label:e.field("phone")}},[r("el-input",{attrs:{type:"tel"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"experience",required:"",label:e.field("experience")}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.experience,callback:function(t){e.$set(e.form,"experience",t)},expression:"form.experience"}},e._l(e.levels,(function(e){var t=e[0],label=e[1];return r("el-option",{key:t,attrs:{label:label,value:t}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{prop:"intro",label:e.field("intro")}},[r("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.intro,callback:function(t){e.$set(e.form,"intro",t)},expression:"form.intro"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"thirdPersonIntro",label:e.field("thirdPersonIntro")}},[r("el-input",{attrs:{type:"textarea",autosize:!0,rows:4},model:{value:e.form.thirdPersonIntro,callback:function(t){e.$set(e.form,"thirdPersonIntro",t)},expression:"form.thirdPersonIntro"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"leetCodeUrl",label:e.field("leetCodeUrl")}},[r("el-input",{attrs:{type:"url"},model:{value:e.form.leetCodeUrl,callback:function(t){e.$set(e.form,"leetCodeUrl",t)},expression:"form.leetCodeUrl"}})],1),e._v(" "),r("div",{staticClass:"user-form-submit"},[r("el-button",{staticClass:"submit-button",attrs:{round:"",type:"primary"},on:{click:e.saveChange}},[e._v("保存")]),e._v(" "),r("el-button",{attrs:{round:""},on:{click:function(t){return e.$router.push("/user")}}},[e._v("返回")])],1)],1):e._e()},o=[]},707:function(e,t,r){"use strict";r.r(t);var n=r(694),o=r(634);for(var l in o)"default"!==l&&function(e){r.d(t,e,(function(){return o[e]}))}(l);r(680);var c=r(28),component=Object(c.a)(o.default,n.a,n.b,!1,null,"56cfb5f0",null);t.default=component.exports}}]);